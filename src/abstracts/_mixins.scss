// =============================================================================
// DAPOCSS MIXINS
// =============================================================================

@use 'variables' as vars;

// Media Query Mixins
// =============================================================================
@mixin large-screen {
  @media screen and (min-width: vars.$breakpoint-large) {
    @content;
  }
}

@mixin dark-theme {
  @media (prefers-color-scheme: dark) {
    @content;
  }
}

@mixin print-styles {
  @media print {
    @content;
  }
}

// Typography Mixins
// =============================================================================
@mixin typography-scale($supports-clamp: true) {
  @if $supports-clamp {
    --text-s: #{vars.$text-s};
    --text-base: #{vars.$text-base};
    --text-m: #{vars.$text-m};
    --text-l: #{vars.$text-l};
    --text-xl: #{vars.$text-xl};
    --text-xxl: #{vars.$text-xxl};
    --text-xxxl: #{vars.$text-xxxl};
  } @else {
    --text-s: #{vars.$text-s-fallback};
    --text-base: #{vars.$text-base-fallback};
    --text-m: #{vars.$text-m-fallback};
    --text-l: #{vars.$text-l-fallback};
    --text-xl: #{vars.$text-xl-fallback};
    --text-xxl: #{vars.$text-xxl-fallback};
    --text-xxxl: #{vars.$text-xxxl-fallback};
  }
}

@mixin typography-scale-large {
  --text-s: #{vars.$text-s-large};
  --text-base: #{vars.$text-base-large};
  --text-m: #{vars.$text-m-large};
  --text-l: #{vars.$text-l-large};
  --text-xl: #{vars.$text-xl-large};
  --text-xxl: #{vars.$text-xxl-large};
  --text-xxxl: #{vars.$text-xxxl-large};
}

// Theme Mixins
// =============================================================================
@mixin light-theme-colors {
  --background-body: #{vars.$background-body-light};
  --background: #{vars.$background-light};
  --background-alt: #{vars.$background-alt-light};
  --text-main: #{vars.$text-main-light};
  --text-bright: #{vars.$text-bright-light};
  --text-muted: #{vars.$text-muted};
  --links: #{vars.$links-light};
  --border: #{vars.$border-light};
  --code: #{vars.$code-light};
  --focus: #{vars.$focus-color};
  --selection: #{vars.$selection-color};
  --highlight: #{vars.$highlight-color};
  --variable: #{vars.$variable-color};
  --form-text: #{vars.$form-text-light};
  --form-placeholder: #{vars.$form-placeholder-light};
  --button-base: #{vars.$button-base-light};
  --button-hover: #{vars.$button-hover-light};
  --secondary: #{vars.$secondary};
  --secondary-hover: #{vars.$secondary-hover-light};
  --secondary-focus: #{vars.$secondary-focus-light};
  --scrollbar-thumb: #{vars.$scrollbar-thumb-light};
  --scrollbar-thumb-hover: #{vars.$scrollbar-thumb-hover-light};
  --select-arrow: #{vars.$select-arrow-light};
}

@mixin dark-theme-colors {
  --background-body: #{vars.$background-body-dark};
  --background: #{vars.$background-dark};
  --background-alt: #{vars.$background-alt-dark};
  --text-main: #{vars.$text-main-dark};
  --text-bright: #{vars.$text-bright-dark};
  --text-muted: #{vars.$text-muted-dark};
  --links: #{vars.$links-dark};
  --border: #{vars.$border-dark};
  --code: #{vars.$code-dark};
  --focus: #{vars.$focus-color-dark};
  --selection: #{vars.$selection-color-dark};
  --highlight: #{vars.$highlight-color-dark};
  --variable: #{vars.$variable-color-dark};
  --form-text: #{vars.$form-text-dark};
  --form-placeholder: #{vars.$form-placeholder-dark};
  --button-base: #{vars.$button-base-dark};
  --button-hover: #{vars.$button-hover-dark};
  --secondary: #{vars.$secondary};
  --secondary-hover: #{vars.$secondary-hover-dark};
  --secondary-focus: #{vars.$secondary-focus-dark};
  --scrollbar-thumb: #{vars.$scrollbar-thumb-dark};
  --scrollbar-thumb-hover: #{vars.$scrollbar-thumb-hover-dark};
  --select-arrow: #{vars.$select-arrow-dark};
}

// Transition Mixins
// =============================================================================
@mixin smooth-transition($properties: all) {
  transition: #{$properties} vars.$animation-duration vars.$transition-timing;
}

@mixin form-transition {
  transition:
    background-color vars.$animation-duration vars.$transition-timing,
    border-color vars.$animation-duration vars.$transition-timing,
    color vars.$animation-duration vars.$transition-timing,
    box-shadow vars.$animation-duration vars.$transition-timing,
    transform vars.$animation-duration vars.$transition-timing-ease;
}

// Form Element Mixins
// =============================================================================
@mixin form-element-base {
  font-family: inherit;
  font-size: inherit;
  border: none;
  border-radius: vars.$border-radius-base;
  outline: none;
  color: var(--form-text);
  background-color: var(--background);
  @include form-transition;
}

@mixin input-base {
  @include form-element-base;
  margin-right: 6px;
  margin-bottom: 6px;
  padding: 10px;
}

@mixin button-base {
  @include form-element-base;
  padding: 8px;
  cursor: pointer;
  background-color: var(--primary);
  
  &:hover {
    background: var(--button-hover);
  }
  
  &:focus {
    box-shadow: 0 0 0 2px var(--focus);
  }
  
  &:active {
    transform: translateY(2px);
  }
}

@mixin button-input {
  @include button-base;
  padding-right: 30px;
  padding-left: 30px;
}

// Focus States
// =============================================================================
@mixin focus-ring {
  box-shadow: 0 0 0 2px var(--focus);
}

// Disabled States
// =============================================================================
@mixin disabled-state {
  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
}

// Layout Mixins
// =============================================================================
@mixin container {
  max-width: vars.$max-width;
  margin: 0 auto;
  padding: 0 vars.$padding-base;
}

@mixin clearfix {
  &::after {
    content: "";
    display: table;
    clear: both;
  }
}

// Scrollbar Mixins
// =============================================================================
@mixin scrollbar-styling {
  scrollbar-color: var(--scrollbar-thumb) var(--background-body);
  scrollbar-width: thin;

  &::-webkit-scrollbar {
    height: 10px;
    width: 10px;
  }

  &::-webkit-scrollbar-track {
    background: var(--background);
    border-radius: vars.$border-radius-base;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: vars.$border-radius-base;

    &:hover {
      background: var(--scrollbar-thumb-hover);
    }
  }
}

// Content Mixins
// =============================================================================
@mixin heading-styles {
  margin-bottom: 0;
  margin-top: 0;
  color: var(--text-bright);
  // font-weight: vars.$font-weight-normal;
}

@mixin code-styles {
  background: var(--background);
  color: var(--code);
  border-radius: vars.$border-radius-base;
  font-size: var(--text-sm);
}

// Border Styles
// =============================================================================
@mixin border-accent {
  border: 1px solid var(--border);
}

@mixin focus-border {
  border-left: 4px solid var(--focus);
}

// Icon Mixins
// =============================================================================
@mixin contact-icon($icon) {
  &::before {
    content: $icon;
  }
}

// Selection Styles
// =============================================================================
@mixin selection-styles {
  background-color: var(--selection);
  color: var(--text-bright);
}

// Print Mixins
// =============================================================================
@mixin print-reset {
  background-color: #fff !important;
  color: #000 !important;
}
